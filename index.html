<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>XSS [ Stored ] & postMessage</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
/*  var postMessageHandler = function(message) {
  var payload = message.data;
  var messageObj = eval(payload);

  if (msgObj.isActive) {
    document.write("PostMessage vulnerability ^_^ ");
  }
}*/

window.addEventListener('message', function(message){
  var payload = message.data;
  var messageObj = eval(payload);

  if (messageObj.isActive) {
    document.write("PostMessage vulnerability ^_^ ");
  }
}, false);</script>
  </body>
</html>
